<!-- This code uses Tailwind CSS classes to style the application. -->
<div class="container mx-auto p-4 max-w-2xl bg-gray-100 dark:bg-gray-800 rounded-xl shadow-lg mt-8">
  <h1 class="text-4xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100">My Task</h1>

  <%= form_with(model: Task.new, class: "flex flex-col md:flex-row gap-4 mb-8") do |form| %>
    <div class="flex-1">
      <%= form.text_field :title, class: "w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100", placeholder: "Task Title" %>
    </div>
    <div>
      <%= form.submit "Add Task", class: "w-full md:w-auto p-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg cursor-pointer transition-colors duration-200" %>
    </div>
  <% end %>

  <!-- The task list. -->
  <ul class="space-y-4">
    <% @tasks.each do |task| %>
      <li class="flex items-start justify-between p-4 bg-white dark:bg-gray-700 rounded-lg shadow transition-transform duration-200 hover:scale-[1.01]">
        <div class="flex items-start gap-4 flex-1 min-w-0">
          <%= form_with(model: task, url: task_path(task), method: :patch, class: "flex-1 flex items-start gap-4 min-w-0") do |form| %>
            <%= form.check_box :completed, onchange: 'this.form.requestSubmit()', class: "h-6 w-6 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0 mt-1" %>
            <span class="<%= task.completed ? 'line-through text-gray-400 dark:text-gray-500' : 'text-gray-900 dark:text-gray-100' %> text-lg font-medium break-words flex-1 min-w-0"><%= task.title %></span>
          <% end %>
        </div>
        <%= form_with(model: task, method: :delete, data: { turbo_confirm: "Are you sure?" }) do |form| %>
          <%= form.submit "Delete", class: "py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg cursor-pointer transition-colors duration-200 text-sm flex-shrink-0" %>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>

<!-- RodapÃ© com informa\u00e7\u00f5es de contato e links para redes sociais -->
<footer class="container mx-auto p-4 max-w-2xl text-center text-gray-600 dark:text-gray-400 mt-8">
  <p class="text-sm">&copy; 2025 Livan Passos. Todos os direitos reservados.</p>
  <p class="text-sm mb-4">E-mail para contato: livansena@gmail.com</p>
  <div class="flex justify-center gap-4">
    <a href="https://linkedin.com/in/livanpassos" target="_blank" class="px-6 py-3 bg-blue-700 hover:bg-blue-800 text-white font-semibold rounded-lg transition-colors duration-200">Linkedin</a>
    <a href="https://github.com/livansena/Task-Manager" target="_blank" class="px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-lg transition-colors duration-200">Github</a>
  </div>
</footer>

<!-- A tag script para carregar o Tailwind CSS CDN. -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Script for dark mode toggle, an additional feature. -->
<script>
  if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
</script>
